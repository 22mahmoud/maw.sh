{% load base_tags %}

<div x-data="passwordField" class="relative flex flex-col gap-1.5">
  <input :type="inputType"
         type="{{ widget.type }}"
         name="{{ widget.name }}"
         {% if widget.value != None %}
           value="{{ widget.value|stringformat:'s' }}"
         {% endif %}
         class="w-full bg-neutral-800 px-3 py-2 text-primary shadow-md border border-neutral-700 placeholder:text-secondary transition-colors focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/50 aria-invalid:border-red-500 aria-invalid:text-red-500 aria-invalid:placeholder:text-red-500/70 aria-invalid:focus:border-red-500 aria-invalid:focus:ring-red-500/50"
         {% include "django/forms/widgets/attrs.html" %}>

  <button type="button"
          @click="toggle"
          :aria-label="toggleLabel"
          class="js-only absolute inset-y-0 right-0 flex items-center px-3 text-secondary transition-colors duration-200 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/50">
    <span x-show="isHidden" x-cloak>
      {% icon "eye" class="w-5 h-5" %}
    </span>
    <span x-show="isVisible" x-cloak>
      {% icon "eye-slash" class="w-5 h-5" %}
    </span>
  </button>
</div>
