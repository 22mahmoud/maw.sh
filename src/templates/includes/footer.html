{% load button_tags menu_tags wagtailimages_tags link_tags base_tags %}

<footer class="relative bg-dark zigzag shadow-inner text-secondary">
  <div class="absolute top-0 left-0 w-full ht-1 bg-gradient-to-r from-gradient-1 to-gradient-2">
  </div>

  <div class="container mx-auto px-6 py-12 mt-4">
    <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-12 mb-12">
      <div class="h-card md:col-span-1 lg:col-span-2">
        <div class="flex items-start gap-4">
          {% get_image_by_title "avatar" as avatar %}
          {% image avatar fill-150x150 as avatar_photo %}
          <img src="{{ avatar_photo.full_url }}"
               width="{{ avatar_photo.width }}"
               height="{{ avatar_photo.height }}"
               decoding="async"
               loading="lazy"
               class="u-photo rounded-full h w-16 ht-16 ring-2 ring-neutral-700"
               alt="Portrait of Mahmoud Ashraf" />
          <div>
            <a class="u-url u-uid block text-lg font-bold text-white hover:text-accent transition-colors duration-200"
               rel="me"
               href="https://mahmoudashraf.dev/">
              <span class="p-name">
                Mahmoud Ashraf
              </span>
            </a>
            <p class="p-note text-sm mt-1 max-w-xs">
              Frontend Engineer from <span class="p-locality">Alexandria</span>,
              <span class="p-country-name">Egypt</span>.
              Crafting fast, accessible, and user-focused web experiences.
            </p>
          </div>
        </div>
        <div class="flex flex-wrap items-center gap-4 mt-5">
          {% for social in settings.base.SiteSettings.social_links %}
            {% link rel="me" href=social.url class="u-url text-secondary hover:text-accent transition-colors duration-200" title=social.text %}
              {% icon social.icon class="w-6 ht-6" %}
              <span class="sr-only">{{ social.text }}</span>
            {% endlink %}
          {% endfor %}
        </div>
      </div>

      {% flat_menu 'main-footer' template="includes/footer_menu.html" %}
      {% flat_menu 'content-footer' template="includes/footer_menu.html" %}
    </div>

    <div class="border-t border-neutral-800 pt-10 mb-10">
      <div class="flex gap-8 items-center justify-center">
        <div class="relative bg-darker border border-neutral-800 p-6 flex flex-col gap-4">
          <div class="absolute bottom-0 left-0 w-full ht-0.5 bg-gradient-to-r from-gradient-1 to-gradient-2">
          </div>
          <div class="text-center">
            <a href="https://xn--sr8hvo.ws"
               class="font-sans text-sm text-secondary hover:text-accent transition-colors">
              IndieWeb Webring üï∏üíç
            </a>
          </div>

          <div class="grid grid-cols-2 gap-0">
            {% button href="https://xn--sr8hvo.ws/previous" variant="muted" size="md" class="w-full justify-center" %}
              ‚Üê Previous
            {% endbutton %}

            {% button href="https://xn--sr8hvo.ws/next" variant="muted" size="md" class="w-full justify-center" %}
              Next ‚Üí
            {% endbutton %}
          </div>
        </div>

        <div class="relative bg-darker border border-neutral-800 p-6 flex flex-col gap-4">
          <div class="absolute bottom-0 left-0 w-full ht-0.5 bg-gradient-to-r from-gradient-1 to-gradient-2">
          </div>
          <div class="text-center">
            <a href="https://fediring.net"
               class="font-sans text-sm text-secondary hover:text-accent transition-colors">
              Fediring
            </a>
          </div>

          <div class="grid grid-cols-2 gap-0">
            {% button href="https://fediring.net/previous?host=mahmoudashraf.dev" variant="muted" size="md" class="w-full justify-center" %}
              ‚Üê Previous
            {% endbutton %}

            {% button href="https://fediring.net/next?host=mahmoudashraf.dev" variant="muted" size="md" class="w-full justify-center" %}
              Next ‚Üí
            {% endbutton %}
          </div>
        </div>

        <div class="relative bg-darker border border-neutral-800 p-6 flex flex-col gap-4">
          <div class="absolute bottom-0 left-0 w-full ht-0.5 bg-gradient-to-r from-gradient-1 to-gradient-2">
          </div>
          <div class="text-center">
            <a href="https://geekring.net/site/NUMBER/random"
               class="font-sans text-sm text-secondary hover:text-accent transition-colors">
              Geekring
            </a>
          </div>

          <div class="grid grid-cols-2 gap-0">
            {% button href="https://geekring.net/site/NUMBER/previous" variant="muted" size="md" class="w-full justify-center" %}
              ‚Üê Previous
            {% endbutton %}

            {% button href="https://geekring.net/site/NUMBER/next" variant="muted" size="md" class="w-full justify-center" %}
              Next ‚Üí
            {% endbutton %}
          </div>
        </div>
      </div>
    </div>

    <!-- Copyright and Back to Top (largely unchanged) -->
    <div class="border-t border-neutral-800 pt-6 flex flex-col sm:flex-row items-center justify-between gap-4">
      <div class="text-sm text-center sm:text-left">
        <span>¬© 2025 Mahmoud Ashraf. All rights reserved.</span>
        <span class="mx-2">‚Ä¢</span>
        {% link href="/privacy-policy/" class="hover:text-white transition-colors duration-200" %}
          Privacy Policy
        {% endlink %}
        <span class="mx-2">‚Ä¢</span>
        {% link href="/terms-of-service/" class="hover:text-white transition-colors duration-200" %}
          Terms
        {% endlink %}
      </div>
      <div class="text-sm">
        {% link href="#top" class="font-medium hover:text-accent transition-colors duration-200" %}
          Back to top ‚Üë
        {% endlink %}
      </div>
    </div>
  </div>
</footer>
