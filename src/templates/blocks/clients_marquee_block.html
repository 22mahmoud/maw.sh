{% load wagtailimages_tags %}

<div class="bg-darker py-4 px-2">
  <div class="relative overflow-hidden">
    <div class="flex animate-marquee whitespace-nowrap [--gap:1.5rem] group hover:[animation-play-state:paused]">
      {% with ""|center:2 as range %}
        {% for _ in range %}
          {% for client in clients %}
            <div class="flex items-center mx-[calc(var(--gap)/2)] shrink-0">
              <div class="h-6 md:h-7 lg:h-8 w-auto transition-all duration-300 filter grayscale brightness-110 contrast-75 opacity-90 hover:grayscale-0 hover:brightness-100 hover:contrast-100 hover:opacity-100">
                {% picture client.logo format-{avif,webp,jpeg} height-48 class="h-full w-auto" %}
              </div>
            </div>
          {% endfor %}
        {% endfor %}
      {% endwith %}
    </div>
  </div>
</div>
