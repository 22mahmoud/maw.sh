{% load link_tags base_tags wagtailcore_tags %}

{% with heading_id=self.heading_text.source|striptags|slugify %}
  <{{ self.size|default:"h2" }}
  {% if self.use_anchor %}
    id="{{ heading_id }}"
  {% endif %}
  class="scroll-mt-24 text-primary font-heading font-bold tracking-tight"
  >
  {{ self.heading_text.source|strip_p_tags|richtext }}
  {% if self.use_anchor %}
    {% link
      icon="paperclip"
      href="#"|add:heading_id size="md"
      icon_class="w-5! h-5! text-secondary! hover:text-accent!"
      aria_label="Anchor link for this section"
      class="inline-block ml-2 align-baseline transition-all duration-200 transform hover:scale-110" %}
    {% endlink %}
  {% endif %}
  </{{ self.size|default:"h2" }}>
{% endwith %}
