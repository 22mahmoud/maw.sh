{% load link_tags %}
{% load wagtailimages_tags wagtailroutablepage_tags wagtailcore_tags %}

<div class="zigzag px-2 py-2 bg-dark flex flex-col gap-4">
  <div class="flex items-center justify-between">
    <h2 class="font-heading text-3xl font-bold">
      {{ self.heading }}
    </h2>

    {% link href="/feed" size="md" variant="default" suffix_icon="arrow-right" %}
      See All
    {% endlink %}
  </div>

  <ul class="h-feed flex flex-col gap-2">
    {% for post in posts %}
      <li>
        {% for block in post.body %}
          <article class="h-entry mx-auto max-w-2xl shadow bg-gradient-to-b from-gradient-1 to-gradient-2 ps-[2px]">
            <div class="flex flex-col py-2 px-4 bg-darker gap-2">
              {% include "includes/feed_post_header.html" with post=post %}
              {% include_block block with layout="compact" %}
            </div>
          </article>
        {% endfor %}
      </li>
    {% endfor %}
  </ul>
</div>
