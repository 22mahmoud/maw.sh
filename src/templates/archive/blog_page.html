{% extends "base.html" %}
{% load wagtailcore_tags %}

{% block content %}
  <div class="w-full bg-dark px-4 py-6 md:py-10 zigzag">
    <header class="max-w-3xl mx-auto mb-10 text-center">
      <h2 class="font-heading text-3xl sm:text-4xl md:text-5xl font-bold text-primary">
        {{ page.title|default:"Archive" }}
      </h2>

      {% if page.introduction %}
        <p class="mt-4 text-base sm:text-lg text-secondary max-w-prose mx-auto">
          {{ page.introduction }}
        </p>
      {% endif %}

    </header>

    <ul class="h-feed max-w-3xl mx-auto divide-y divide-neutral-700 text-primary">
      {% for post in posts %}
        <li class="h-entry py-4 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1">
          <div class="flex-1">
            <a href="{% pageurl post %}"
               class="u-url p-name hover:text-accent focus:text-accent transition-colors font-medium outline-none focus-visible:ring-2 focus-visible:ring-accent rounded-sm">
              {{ post.title }}
            </a>
          </div>

          <div class="hidden">
            {% for tag in post.get_tags %}
              <span class="p-category">{{ tag }}</span>
            {% endfor %}
          </div>

          <time class="dt-published text-secondary text-xs sm:text-sm whitespace-nowrap"
                datetime="{{ post.first_published_at|date:'c' }}">
            {{ post.first_published_at|date:"M d, Y" }}
          </time>
        </li>
      {% endfor %}
    </ul>
  </div>
{% endblock content %}
