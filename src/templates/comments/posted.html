{% extends "django_comments_xtd/base.html" %}
{% load i18n %}
{% load base_tags comments_xtd comments %}

{% block title %}
  {% trans "Sent" %}.
{% endblock title %}

{% block content %}
  {% if request.htmx %}
    <div id="comment-confirmation"
         hx-swap-oob="true"
         class="mt-4 max-w-xl mx-auto flex items-start gap-3 rounded-lg border border-blue-200 bg-blue-50 p-4 text-sm text-blue-900 shadow-sm"
         role="status">
      <svg class="h-5 w-5 shrink-0 text-blue-500"
           fill="none"
           viewBox="0 0 24 24"
           stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z" />
      </svg>
      <div>
        <p class="font-medium mb-0">
          {% trans "Comment confirmation requested." %}
        </p>
        <p class="text-sm text-blue-800">
          {% blocktrans %}A confirmation message has been sent to your
          email address. Please click the link in the message to confirm
          your comment.{% endblocktrans %}
        </p>
      </div>
    </div>

    <section id="comment-preview" hx-swap-oob="true">
    </section>
    {% render_comment_form for target %}
  {% else %}
    <div class="flex-1 w-full bg-dark px-4 py-6 md:py-10 zigzag">
      <article class="max-w-3xl mx-auto">
        <header class="mb-8">
          <h1 class="text-3xl font-bold tracking-tight">
            {% trans "Comment confirmation requested." %}
          </h1>
        </header>

        <div class="space-y-4">
          <p>
            {% blocktrans %}A confirmation message has been sent to your
          email address. Please click the link in the message to confirm
          your comment.{% endblocktrans %}
          </p>

          <p class="text-sm text-muted">
            {% trans "Go back to" %}:
            <a href="{{ target.get_absolute_url }}"
               class="text-primary underline hover:text-primary-foreground transition">
              {{ target }}
            </a>
          </p>
        </div>
      </article>
    </div>
  {% endif %}
{% endblock content %}
