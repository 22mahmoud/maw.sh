{% load base_tags wagtailcore_tags wagtailembeds_tags %}

<div class="flex flex-col gap-4">
  {% if value.caption %}
    <div class="e-content prose prose-main max-w-none">
      {{ value.caption | richtext }}
    </div>
  {% endif %}

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
    {% for video_block in value.videos %}
      <div class="relative overflow-hidden border border-primary/10 shadow-md hover:shadow-lg transition-shadow duration-200">
        {% if video_block.block_type == 'video_embed' %}
          <div class="u-video w-full h-full **:w-full **:h-full *:object-cover">
            {{ video_block }}
          </div>
        {% elif video_block.block_type == 'video' %}
          <div class="u-video w-full h-full *:w-full *:h-full *:object-cover">
            {{ video_block }}
          </div>
        {% endif %}
      </div>
    {% endfor %}
  </div>
</div>
