{% extends "base.html" %}
{% load i18n base_tags allauth button_tags %}
{% load socialaccount %}

{% block title %}
  {% trans "Sign Up | Mahmoud Ashraf" %}
{% endblock title %}

{% block content %}
  <div class="flex-1 w-full bg-dark px-4 py-8 sm:py-12 md:py-16 zigzag">
    <div class="max-w-xl mx-auto px-6 py-8 sm:px-8 sm:py-10 space-y-6 text-primary">

      <h2 class="text-2xl font-semibold">
        {% trans "Sign Up" %}
      </h2>

      <p class="text-primary/80">
        {% blocktranslate %}
          Already have an account? Then please
          <a href="{{ login_url }}" class="text-accent underline hover:text-accent-bright">
            sign in
          </a>.
        {% endblocktranslate %}
      </p>

      {% if not SOCIALACCOUNT_ONLY %}
        <div>
          <form method="post"
                id="signup-form"
                action="{% url 'account_signup' %}"
                hx-post="{% url 'account_signup' %}"
                hx-select="#signup-form"
                hx-swap="outerHTML"
                class="flex flex-col gap-5">
            {% csrf_token %}
            {{ redirect_field }}

            {{ form }}

            <div>
              {% button type="submit" variant="primary" %}
                {% trans "Sign Up" %}
                {% icon 'circle-notch' id="spinner" class="htmx-indicator animate-spin h-5 w-5" %}
              {% endbutton %}
            </div>
          </form>
        </div>
      {% endif %}

      {% if SOCIALACCOUNT_ENABLED %}
        {% include "socialaccount/snippets/login.html" %}
      {% endif %}
    </div>
  </div>
{% endblock content %}
