{% extends "base.html" %}
{% load i18n base_tags allauth button_tags %}
{% load socialaccount %}

{% block title %}
  {% trans "Sign Up | Mahmoud Ashraf" %}
{% endblock title %}

{% block content %}
  <section class="grow-1 w-full bg-dark px-4 py-10 sm:py-14 md:py-20 zigzag">
    <div class="bg-darker max-w-xl mx-auto bg-card px-6 py-8 sm:px-10 sm:py-12 text-primary grid gap-4">

      <header class="grid gap-2 text-center sm:text-left">
        <h2 class="text-3xl font-bold">
          {% trans "Sign Up" %}
        </h2>

        <p class="text-secondary">
          {% blocktranslate %}
          Already have an account? Then please
          <a href="{{ login_url }}" class="text-accent underline hover:text-accent-bright">
            sign in
          </a>.
        {% endblocktranslate %}
        </p>

      </header>

      {% if not SOCIALACCOUNT_ONLY %}
        <div>
          <form method="post"
                id="signup-form"
                action="{% url 'account_signup' %}"
                hx-post="{% url 'account_signup' %}"
                hx-select="#signup-form"
                hx-swap="outerHTML"
                class="flex flex-col gap-5">
            {% csrf_token %}
            {{ redirect_field }}

            {{ form }}

            <div>
              {% button type="submit" variant="primary" %}
                {% trans "Sign Up" %}
                {% icon 'circle-notch' id="spinner" class="htmx-indicator animate-spin ht-5 w-5" %}
              {% endbutton %}
            </div>
          </form>
        </div>
      {% endif %}

      <div>
        {% if SOCIALACCOUNT_ENABLED %}
          {% include "socialaccount/snippets/login.html" %}
        {% endif %}
      </div>
    </div>
  </section>
{% endblock content %}
